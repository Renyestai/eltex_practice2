Script started on 2025-10-31 20:39:49+07:00 [TERM="dumb" TTY="/dev/pts/159" COLUMNS="120" LINES="30"]
eltex-pg1-v13@eltex-2025-autumn:~$ ls -l ~/.ssh/id_rsa.pub
-rw-r--r-- 1 eltex-pg1-v13 eltex-pg1-v13 739 Oct 17 22:30 /home/eltex-pg1-v13/.ssh/id_rsa.pub
eltex-pg1-v13@eltex-2025-autumn:~$ ssh root@172.16.9.187
Welcome to Ubuntu 24.04.2 LTS (GNU/Linux 6.8.0-55-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:	   https://landscape.canonical.com
 * Support:	   https://ubuntu.com/pro

 System information as of Fri Oct 31 01:40:21 PM UTC 2025

  System load:	0.03		   Processes:		   113
  Usage of /:	41.0% of 14.66GB   Users logged in:	   1
  Memory usage: 15%		   IPv4 address for ens18: 172.16.9.187
  Swap usage:	0%

 * Strictly confined Kubernetes makes edge and IoT secure. Learn how MicroK8s
   just raised the bar for easy, resilient and secure K8s cluster deployment.

   https://ubuntu.com/engage/secure-kubernetes-at-the-edge

Expanded Security Maintenance for Applications is not enabled.

91 updates can be applied immediately.
To see these additional updates run: apt list --upgradable

Enable ESM Apps to receive additional future security updates.
See https://ubuntu.com/esm or run: sudo pro status


*** System restart required ***
Last login: Fri Oct 31 13:37:08 2025 from 172.16.8.4
root@eltex-practice2-pg1-v13:~# ls -l ~/.ssh/authorized_keys
-rw------- 1 root root 739 Oct 17 15:52 /root/.ssh/authorized_keys
root@eltex-practice2-pg1-v13:~# useradd -m -s /bin/bash user1
root@eltex-practice2-pg1-v13:~# passwd user1
New password:
Retype new password:
passwd: password updated successfully
root@eltex-practice2-pg1-v13:~# adduser user2
info: Adding user `user2' ...
info: Selecting UID/GID from range 1000 to 59999 ...
info: Adding new group `user2' (1002) ...
info: Adding new user `user2' (1002) with group `user2 (1002)' ...
info: Creating home directory `/home/user2' ...
info: Copying files from `/etc/skel' ...
New password:
Retype new password:
passwd: password updated successfully
Changing the user information for user2
Enter the new value, or press ENTER for the default
	Full Name []: USER2
	Room Number []: 2
	Work Phone []: 123
	Home Phone []: 321
	Other []: 123321
Is the information correct? [Y/n] y
info: Adding new user `user2' to supplemental / extra groups `users' ...
info: Adding user `user2' to group `users' ...
root@eltex-practice2-pg1-v13:~# adduser user3
info: Adding user `user3' ...
info: Selecting UID/GID from range 1000 to 59999 ...
info: Adding new group `user3' (1003) ...
info: Adding new user `user3' (1003) with group `user3 (1003)' ...
info: Creating home directory `/home/user3' ...
info: Copying files from `/etc/skel' ...
New password:
Retype new password:
passwd: password updated successfully
Changing the user information for user3
Enter the new value, or press ENTER for the default
	Full Name []: USER3
	Room Number []: 3
	Work Phone []: 321
	Home Phone []: 123
	Other []: 321123
Is the information correct? [Y/n] y
info: Adding new user `user3' to supplemental / extra groups `users' ...
info: Adding user `user3' to group `users' ...
root@eltex-practice2-pg1-v13:~# usermod -s /user/sbin/nologin user3
root@eltex-practice2-pg1-v13:~# su user3
This account is currently not available.
root@eltex-practice2-pg1-v13:~# su -s /bin/bash user3
user3@eltex-practice2-pg1-v13:/root$ logout
bash: logout: not login shell: use `exit'
user3@eltex-practice2-pg1-v13:/root$ exit
exit
root@eltex-practice2-pg1-v13:~# groupadd my_users
root@eltex-practice2-pg1-v13:~# usermod -a -G my_users user1
root@eltex-practice2-pg1-v13:~# usermod -a -G my_users user2
root@eltex-practice2-pg1-v13:~# usermod -a -G my_users user3
root@eltex-practice2-pg1-v13:~# mkdir -p /opt/share
root@eltex-practice2-pg1-v13:~# chown :my_users /opt/share
root@eltex-practice2-pg1-v13:~# chmon 2770 /opt/share
Command 'chmon' not found, did you mean:
  command 'chmod' from deb coreutils (9.4-3ubuntu6.1)
  command 'chcon' from deb coreutils (9.4-3ubuntu6.1)
Try: apt install <deb name>
root@eltex-practice2-pg1-v13:~# chmod 2770 /opt/share
root@eltex-practice2-pg1-v13:~# ls -ld /opt/share
drwxrws--- 2 root my_users 4096 Oct 17 20:05 /opt/share
root@eltex-practice2-pg1-v13:~# echo "umask 027" >> /home/user1/.bashrc
root@eltex-practice2-pg1-v13:~# su - user1
user1@eltex-practice2-pg1-v13:/root$ umask
0027
user1@eltex-practice2-pg1-v13:/root$ exit
exit
root@eltex-practice2-pg1-v13:~# su - user1 -c "echo 'user1 file' > /opt/share/user1_file.txt"
root@eltex-practice2-pg1-v13:~# su - user2 -c "echo 'user2 file' > /opt/share/user2_file.txt"
root@eltex-practice2-pg1-v13:~# su - user3 -c "echo 'user3 file' > /opt/share/user3_file.txt"
This account is currently not available.
root@eltex-practice2-pg1-v13:~# ls -l /opt/share
total 8
-rw-rw-r-- 1 user1 my_users 11 Oct 31 14:10 user1_file.txt
-rw-rw-r-- 1 user2 my_users 11 Oct 31 14:10 user2_file.txt
root@eltex-practice2-pg1-v13:~# su - user3 -s /bin/bash -c "echo 'user3 file' > /opt/share/user3_file.txt"
root@eltex-practice2-pg1-v13:~# ls -l /opt/share
total 12
-rw-rw-r-- 1 user1 my_users 11 Oct 31 14:10 user1_file.txt
-rw-rw-r-- 1 user2 my_users 11 Oct 31 14:10 user2_file.txt
-rw-rw-r-- 1 user3 my_users 11 Oct 31 14:18 user3_file.txt
root@eltex-practice2-pg1-v13:~# su - user1 -c "rm /opt/share/user2_file.txt"
root@eltex-practice2-pg1-v13:~# ls -l /opt/share
total 8
-rw-rw-r-- 1 user1 my_users 11 Oct 31 14:10 user1_file.txt
-rw-rw-r-- 1 user3 my_users 11 Oct 31 14:18 user3_file.txt
root@eltex-practice2-pg1-v13:~# su - user2 -c "rm /opt/share/user3_file.txt"
root@eltex-practice2-pg1-v13:~# ls -l /opt/share
total 4
-rw-rw-r-- 1 user1 my_users 11 Oct 31 14:10 user1_file.txt
root@eltex-practice2-pg1-v13:~# su - user3 -c "rm /opt/share/user1_file.txt"
This account is currently not available.
root@eltex-practice2-pg1-v13:~# su - user3 -s /bin/bash -c "rm /opt/share/user1_file.txt"
root@eltex-practice2-pg1-v13:~# ls -l /opt/share
total 0
root@eltex-practice2-pg1-v13:~# chmod + /opt/share
root@eltex-practice2-pg1-v13:~# su - user1 -s /bin/bash -c "echo 'user1 file' > /opt/share/user1_file"
root@eltex-practice2-pg1-v13:~# su - user2 -s /bin/bash -c "echo 'user2 file' > /opt/share/user2_file"
root@eltex-practice2-pg1-v13:~# su - user3 -s /bin/bash -c "echo 'user3 file' > /opt/share/user3_file"
root@eltex-practice2-pg1-v13:~# ls -l /opt/share
total 12
-rw-rw-r-- 1 user1 my_users 11 Oct 31 14:51 user1_file
-rw-rw-r-- 1 user2 my_users 11 Oct 31 14:51 user2_file
-rw-rw-r-- 1 user3 my_users 11 Oct 31 14:51 user3_file
root@eltex-practice2-pg1-v13:~# su - user1 -c "rm /opt/share/user3_file"
rm: cannot remove '/opt/share/user3_file': Operation not permitted
root@eltex-practice2-pg1-v13:~# su - user2 -c "rm /opt/share/user1_file"
rm: cannot remove '/opt/share/user1_file': Operation not permitted
root@eltex-practice2-pg1-v13:~# su - user3 -s /bin/bash -c "rm /opt/share/user2_file"
rm: cannot remove '/opt/share/user2_file': Operation not permitted
root@eltex-practice2-pg1-v13:~# DMESG_PATH=$(command)-v)dmesg)
root@eltex-practice2-pg1-v13:~# echo "user1 ALL=(root) NOPASSWD: $DMESG_PATH" > /etc/sudoers.d/allow_user1_dmesg
root@eltex-practice2-pg1-v13:~# chmod 440 /etc/sudoers.d/allow_user1_dmesg
root@eltex-practice2-pg1-v13:~# visudo -c
/etc/sudoers: parsed OK
/etc/sudoers.d/README: parsed OK
/etc/sudoers.d/allow_user1_dmesg: parsed OK
root@eltex-practice2-pg1-v13:~# su - user1 -c "sudo $DMESG_PATH | head -n 5"
[    0.000000] Linux version 6.8.0-55-generic (buildd@lcy02-amd64-095) (x86_64-linux-gnu-gcc-13 (Ubuntu 13.3.0-6ubuntu2~24.04) 13.3.0, GNU ld (GNU Binutils for Ubuntu) 2.42) #57-Ubuntu SMP PREEMPT_DYNAMIC Wed Feb 12 23:42:21 UTC 2025 (Ubuntu 6.8.0-55.57-generic 6.8.12)
[    0.000000] Command line: BOOT_IMAGE=/vmlinuz-6.8.0-55-generic root=/dev/mapper/ubuntu--vg-ubuntu--lv ro
[    0.000000] KERNEL supported cpus:
[    0.000000]	 Intel GenuineIntel
[    0.000000]	 AMD AuthenticAMD
root@eltex-practice2-pg1-v13:~# cat > /usr/local/bin/dmesg_script.sh << 'BASH'
> #!/bin/bash
> exec /bin/dmesgg"$@""
> BASH
root@eltex-practice2-pg1-v13:~# chown root:user2 /usr/local/bin/dmesg_script.sh
root@eltex-practice2-pg1-v13:~# chmod 4750 /usr/local/bin/dmesg_script.sh
root@eltex-practice2-pg1-v13:~# ls -l /usr/local/bin/dmesg_script.sh
-rwsr-x--- 1 root user2 33 Nov	2 12:39 /usr/local/bin/dmesg_script.sh
root@eltex-practice2-pg1-v13:~# su - user2 -c "/usr/local/bin/dmesg_script.sh | head -5"
dmesg: read kernel buffer failed: Operation not permitted
<r2tALL=(root)cNOPASSWD:-/usr/local/bin/dmesg_script.sh"O|Asudo:tees/etc/sudoers.d/allow_user2_dmesgudo tee /etc/sudo
user2 ALL=(root) NOPASSWD: /usr/local/bin/dmesg_script.sh
root@eltex-practice2-pg1-v13:~#secho "user2eALL=(root)oNOPASSWD:o/usr/local/bin/dmesg_script.sh" | sudo tee /etc/sudoe>
user2 ALL=(root) NOPASSWD: /usr/local/bin/dmesg_script.sh
root@eltex-practice2-pg1-v13:~#ssudo chmodt440//etc/sudoers.d/allow_user2_dmesg_file"
root@eltex-practice2-pg1-v13:~# su - user2 -s /bin/bash -c " -c "sudo"/usr/local/bin/dmesg_script.sh"|"head"-n"5"
[    0.000000] Linux version 6.8.0-55-generic (buildd@lcy02-amd64-095) (x86_64-linux-gnu-gcc-13 (Ubuntu 13.3.0-6ubuntu2~24.04) 13.3.0, GNU ld (GNU Binutils for Ubuntu) 2.42) #57-Ubuntu SMP PREEMPT_DYNAMIC Wed Feb 12 23:42:21 UTC 2025 (Ubuntu 6.8.0-55.57-generic 6.8.12)
[    0.000000] Command line: BOOT_IMAGE=/vmlinuz-6.8.0-55-generic root=/dev/mapper/ubuntu--vg-ubuntu--lv ro
[    0.000000] KERNEL supported cpus:
[    0.000000]	 Intel GenuineIntel
[    0.000000]	 AMD AuthenticAMD
root@eltex-practice2-pg1-v13:~# chage -M 10 user1
root@eltex-practice2-pg1-v13:~# chage -M 10 user2
root@eltex-practice2-pg1-v13:~# chage -M 10 user3
root@eltex-practice2-pg1-v13:~# chage -l user1
Last password change					: Oct 31, 2025
Password expires					: Nov 10, 2025
Password inactive					: never
Account expires						: never
Minimum number of days between password change		: 0
Maximum number of days between password change		: 10
Number of days of warning before password expires	: 7
root@eltex-practice2-pg1-v13:~# chage -l user2
Last password change					: Oct 31, 2025
Password expires					: Nov 10, 2025
Password inactive					: never
Account expires						: never
Minimum number of days between password change		: 0
Maximum number of days between password change		: 10
Number of days of warning before password expires	: 7
root@eltex-practice2-pg1-v13:~# chage -l user3
Last password change					: Oct 31, 2025
Password expires					: Nov 10, 2025
Password inactive					: never
Account expires						: never
Minimum number of days between password change		: 0
Maximum number of days between password change		: 10
Number of days of warning before password expires	: 7
root@eltex-practice2-pg1-v13:~# cat /etc/motd
Каршиганова Азиза Бейсенбеккызы
root@eltex-practice2-pg1-v13:~# rsync -av /etc/ /root/etc_backup/
sending incremental file list

sent 69,936 bytes  received 260 bytes  140,392.00 bytes/sec
total size is 2,366,911	 speedup is 33.72
root@eltex-practice2-pg1-v13:~# ls -la /root/etc_backup
total 924
-rw-r--r-- 1 root root	     3444 Jul  5  2023 adduser.conf
drwxr-xr-x 2 root root	     4096 Oct 16 08:15 alternatives
drwxr-xr-x 2 root root	     4096 Feb 16  2025 apparmor
drwxr-xr-x 9 root root	     4096 Feb 16  2025 apparmor.d
drwxr-xr-x 3 root root	     4096 Oct 16 07:52 apport
drwxr-xr-x 9 root root	     4096 Mar 12  2025 apt
-rw-r--r-- 1 root root	     2319 Mar 31  2024 bash.bashrc
-rw-r--r-- 1 root root	       45 Feb 16  2025 bash_completion
drwxr-xr-x 2 root root	     4096 Oct 16 06:55 bash_completion.d
-rw-r--r-- 1 root root	      367 Aug  2  2022 bindresvport.blacklist
drwxr-xr-x 2 root root	     4096 Oct 17  2024 binfmt.d
drwxr-xr-x 2 root root	     4096 Feb 16  2025 byobu
drwxr-xr-x 3 root root	     4096 Feb 16  2025 ca-certificates
-rw-r--r-- 1 root root	     6288 Feb 16  2025 ca-certificates.conf
drwxr-xr-x 5 root root	     4096 Oct 16 07:58 cloud
drwxr-xr-x 2 root root	     4096 Mar 12  2025 console-setup
drwx------ 2 root root	     4096 Oct 17  2024 credstore
drwx------ 2 root root	     4096 Oct 17  2024 credstore.encrypted
drwxr-xr-x 2 root root	     4096 Feb 16  2025 cron.d
drwxr-xr-x 2 root root	     4096 Oct 16 08:15 cron.daily
drwxr-xr-x 2 root root	     4096 Feb 16  2025 cron.hourly
drwxr-xr-x 2 root root	     4096 Feb 16  2025 cron.monthly
-rw-r--r-- 1 root root	     1136 Feb 16  2025 crontab
drwxr-xr-x 2 root root	     4096 Feb 16  2025 cron.weekly
drwxr-xr-x 2 root root	     4096 Feb 16  2025 cron.yearly
drwxr-xr-x 2 root root	     4096 Mar 12  2025 cryptsetup-initramfs
-rw-r--r-- 1 root root	       54 Feb 16  2025 crypttab
drwxr-xr-x 4 root root	     4096 Feb 16  2025 dbus-1
-rw-r--r-- 1 root root	     2967 Apr 12  2024 debconf.conf
-rw-r--r-- 1 root root	       11 Apr 22  2024 debian_version
drwxr-xr-x 3 root root	     4096 Oct 16 08:22 default
-rw-r--r-- 1 root root	     1706 Jul  5  2023 deluser.conf
drwxr-xr-x 2 root root	     4096 Feb 16  2025 depmod.d
drwxr-xr-x 3 root root	     4096 Feb 16  2025 dhcp
-rw-r--r-- 1 root root	     1429 May  7  2024 dhcpcd.conf
drwxr-xr-x 4 root root	     4096 Oct 16 08:15 dpkg
-rw-r--r-- 1 root root	      685 Apr  8  2024 e2scrub.conf
-rw-r--r-- 1 root root	      106 Feb 16  2025 environment
-rw-r--r-- 1 root root	     1853 Oct 17  2022 ethertypes
drwxr-xr-x 4 root root	     4096 Mar 12  2025 fonts
-rw-r--r-- 1 root root	      657 Mar 12  2025 fstab
-rw-r--r-- 1 root root	      694 Apr  8  2024 fuse.conf
drwxr-xr-x 4 root root	     4096 Mar 12  2025 fwupd
-rw-r--r-- 1 root root	     2584 Jan 31  2024 gai.conf
drwxr-xr-x 2 root root	     4096 Oct 16 08:24 gnutls
drwxr-xr-x 2 root root	     4096 Feb 16  2025 groff
-rw-r--r-- 1 root root	      917 Oct 31 13:47 group
-rw-r--r-- 1 root root	      911 Oct 31 13:47 group-
drwxr-xr-x 2 root root	     4096 Mar 12  2025 grub.d
-rw-r----- 1 root shadow      770 Oct 31 13:47 gshadow
-rw-r----- 1 root shadow      764 Oct 31 13:47 gshadow-
drwxr-xr-x 3 root root	     4096 Feb 16  2025 gss
-rw-r--r-- 1 root root	     4436 Feb 16  2025 hdparm.conf
-rw-r--r-- 1 root root	       92 Apr 22  2024 host.conf
-rw-r--r-- 1 root root	      229 Mar 12  2025 hosts
-rw-r--r-- 1 root root	      411 Mar 12  2025 hosts.allow
-rw-r--r-- 1 root root	      711 Mar 12  2025 hosts.deny
drwxr-xr-x 2 root root	     4096 Oct 16 08:07 init.d
drwxr-xr-x 5 root root	     4096 Mar 12  2025 initramfs-tools
-rw-r--r-- 1 root root	     1875 Mar 31  2024 inputrc
drwxr-xr-x 4 root root	     4096 Feb 16  2025 iproute2
drwxr-xr-x 2 root root	     4096 Mar 12  2025 iscsi
-rw-r--r-- 1 root root	       26 Feb  5  2025 issue
-rw-r--r-- 1 root root	       19 Feb  5  2025 issue.net
drwxr-xr-x 6 root root	     4096 Mar 12  2025 kernel
drwxrwxr-x 2 root landscape  4096 Feb 16  2025 landscape
drwxr-xr-x 2 root root	     4096 Mar 12  2025 ldap
-rw-r--r-- 1 root root	    22563 Oct 31 06:18 ld.so.cache
-rw-r--r-- 1 root root	       34 Aug  2  2022 ld.so.conf
drwxr-xr-x 2 root root	     4096 Oct 16 07:05 ld.so.conf.d
-rw-r--r-- 1 root root	      267 Apr 22  2024 legal
-rw-r--r-- 1 root root	      191 Mar 31  2024 libaudit.conf
drwxr-xr-x 3 root root	     4096 Feb 16  2025 libblockdev
drwxr-xr-x 2 root root	     4096 Feb 16  2025 libibverbs.d
drwxr-xr-x 2 root root	     4096 Feb 16  2025 libnl-3
-rw-r--r-- 1 root root	     2996 Feb 16  2025 locale.alias
-rw-r--r-- 1 root root	       17 Mar 12  2025 locale.conf
-rw-r--r-- 1 root root	     9563 Oct 16 07:07 locale.gen
lrwxrwxrwx 1 root root	       27 Feb 16  2025 localtime -> /usr/share/zoneinfo/Etc/UTC
drwxr-xr-x 4 root root	     4096 Feb 16  2025 logcheck
-rw-r--r-- 1 root root	    12345 Feb 22  2024 login.defs
-rw-r--r-- 1 root root	      586 Feb 16  2025 logrotate.conf
drwxr-xr-x 2 root root	     4096 Oct 16 08:15 logrotate.d
-rw-r--r-- 1 root root	      104 Feb  5  2025 lsb-release
drwxr-xr-x 4 root root	     4096 Mar 12  2025 lvm
-r--r--r-- 1 root root	       33 Mar 12  2025 machine-id
-rw-r--r-- 1 root root	      111 Feb 16  2025 magic
-rw-r--r-- 1 root root	      111 Feb 16  2025 magic.mime
-rw-r--r-- 1 root root	     5230 Feb 16  2025 manpath.config
drwxr-xr-x 2 root root	     4096 Feb 16  2025 mdadm
-rw-r--r-- 1 root root	    75113 Jul 12  2023 mime.types
-rw-r--r-- 1 root root	      744 Apr  8  2024 mke2fs.conf
drwxr-xr-x 4 root root	     4096 Feb 16  2025 ModemManager
drwxr-xr-x 2 root root	     4096 Oct 16 08:22 modprobe.d
-rw-r--r-- 1 root root	      212 Feb 16  2025 modules
drwxr-xr-x 2 root root	     4096 Oct 16 06:45 modules-load.d
-rw-r--r-- 1 root root	       61 Nov  2 15:39 motd
lrwxrwxrwx 1 root root	       19 Feb 16  2025 mtab -> ../proc/self/mounts
drwx------ 2 root root	     4096 Mar 12  2025 multipath
-rw-r--r-- 1 root root	       41 Apr  7  2024 multipath.conf
-rw-r--r-- 1 root root	    11424 Feb 16  2025 nanorc
drwxr-xr-x 6 root root	     4096 Feb 16  2025 needrestart
-rw-r--r-- 1 root root	      767 Mar 31  2024 netconfig
drwxr-xr-x 2 root root	     4096 Mar 12  2025 netplan
drwxr-xr-x 4 root root	     4096 Feb 16  2025 network
drwxr-xr-x 8 root root	     4096 Feb 16  2025 networkd-dispatcher
-rw-r--r-- 1 root root	       91 Apr 22  2024 networks
drwxr-xr-x 2 root root	     4096 Feb 16  2025 newt
-rwxr-xr-x 1 root root	      243 Feb 16  2025 nftables.conf
-rw-r--r-- 1 root root	      526 Feb 16  2025 nsswitch.conf
drwxr-xr-x 2 root root	     4096 Feb 16  2025 opt
lrwxrwxrwx 1 root root	       21 Feb  5  2025 os-release -> ../usr/lib/os-release
-rw-r--r-- 1 root root	     6920 Feb 16  2025 overlayroot.conf
drwxr-xr-x 2 root root	     4096 Mar 12  2025 PackageKit
-rw-r--r-- 1 root root	      552 Oct 13  2022 pam.conf
drwxr-xr-x 2 root root	     4096 Oct 16 08:13 pam.d
-rw-r--r-- 1 root root	     1952 Oct 31 13:44 passwd
-rw-r--r-- 1 root root	     1944 Oct 31 13:42 passwd-
drwxr-xr-x 3 root root	     4096 Feb 16  2025 perl
drwxr-xr-x 4 root root	     4096 Feb 16  2025 pki
drwxr-xr-x 2 root root	     4096 Mar 31  2024 plymouth
drwxr-xr-x 3 root root	     4096 Feb 16  2025 pm
drwxr-xr-x 3 root root	     4096 Feb 16  2025 polkit-1
drwxr-xr-x 2 root root	     4096 Mar 12  2025 pollinate
-rw-r--r-- 1 root root	      582 Apr 22  2024 profile
drwxr-xr-x 2 root root	     4096 Oct 16 08:00 profile.d
-rw-r--r-- 1 root root	     3144 Oct 17  2022 protocols
drwxr-xr-x 2 root root	     4096 Feb 16  2025 python3
drwxr-xr-x 2 root root	     4096 Oct 16 06:38 python3.12
drwxr-xr-x 3 root root	     4096 Oct 16 08:08 qemu
drwxr-xr-x 2 root root	     4096 Mar 12  2025 rc0.d
drwxr-xr-x 2 root root	     4096 Mar 12  2025 rc1.d
drwxr-xr-x 2 root root	     4096 Mar 12  2025 rc2.d
drwxr-xr-x 2 root root	     4096 Mar 12  2025 rc3.d
drwxr-xr-x 2 root root	     4096 Mar 12  2025 rc4.d
drwxr-xr-x 2 root root	     4096 Mar 12  2025 rc5.d
drwxr-xr-x 2 root root	     4096 Mar 12  2025 rc6.d
drwxr-xr-x 2 root root	     4096 Feb 16  2025 rcS.d
lrwxrwxrwx 1 root root	       39 Feb 16  2025 resolv.conf -> ../run/systemd/resolve/stub-resolv.conf
lrwxrwxrwx 1 root root	       13 Apr  8  2024 rmt -> /usr/sbin/rmt
-rw-r--r-- 1 root root	      911 Oct 17  2022 rpc
-rw-r--r-- 1 root root	     1213 Feb 16  2025 rsyslog.conf
drwxr-xr-x 2 root root	     4096 Oct 16 08:00 rsyslog.d
-rw-r--r-- 1 root root	     3663 Feb 16  2025 screenrc
drwxr-xr-x 4 root root	     4096 Oct 16 06:59 security
drwxr-xr-x 2 root root	     4096 Feb 16  2025 selinux
-rw-r--r-- 1 root root	    10593 Feb 16  2025 sensors3.conf
drwxr-xr-x 2 root root	     4096 Feb 16  2025 sensors.d
-rw-r--r-- 1 root root	    12813 Mar 27  2021 services
drwxr-xr-x 2 root root	     4096 Feb 16  2025 sgml
-rw-r----- 1 root shadow     1326 Nov  2 14:15 shadow
-rw-r----- 1 root shadow     1329 Nov  2 14:15 shadow-
-rw-r--r-- 1 root root	      148 Feb 16  2025 shells
drwxr-xr-x 2 root root	     4096 Feb 16  2025 skel
drwxr-xr-x 6 root root	     4096 Feb 16  2025 sos
drwxr-xr-x 4 root root	     4096 Oct 16 07:45 ssh
drwxr-xr-x 4 root root	     4096 Oct 16 08:18 ssl
-rw-r--r-- 1 root root	       75 Oct 31 13:42 subgid
-rw-r--r-- 1 root root	       56 Oct 31 13:41 subgid-
-rw-r--r-- 1 root root	       75 Oct 31 13:42 subuid
-rw-r--r-- 1 root root	       56 Oct 31 13:41 subuid-
-rw-r--r-- 1 root root	     4343 Apr  8  2024 sudo.conf
-r--r----- 1 root root	     1800 Jan 29  2024 sudoers
drwxr-xr-x 2 root root	     4096 Nov  2 13:53 sudoers.d
-rw-r--r-- 1 root root	     9804 Apr  8  2024 sudo_logsrvd.conf
drwxr-xr-x 2 root root	     4096 Feb 16  2025 supercat
-rw-r--r-- 1 root root	     2209 Mar 24  2024 sysctl.conf
drwxr-xr-x 2 root root	     4096 Oct 16 06:45 sysctl.d
drwxr-xr-x 2 root root	     4096 Feb 16  2025 sysstat
drwxr-xr-x 6 root root	     4096 Oct 16 06:48 systemd
drwxr-xr-x 2 root root	     4096 Feb 16  2025 terminfo
drwxr-xr-x 2 root root	     4096 Mar 12  2025 thermald
-rw-r--r-- 1 root root		8 Oct 16 07:15 timezone
drwxr-xr-x 2 root root	     4096 Feb 16  2025 tmpfiles.d
drwxr-xr-x 2 root root	     4096 Feb 16  2025 ubuntu-advantage
-rw-r--r-- 1 root root	     1260 Jan 27  2023 ucf.conf
drwxr-xr-x 4 root root	     4096 Oct 16 06:48 udev
drwxr-xr-x 2 root root	     4096 Oct 16 06:28 udisks2
drwxr-xr-x 3 root root	     4096 Feb 16  2025 ufw
drwxr-xr-x 3 root root	     4096 Feb 16  2025 update-manager
drwxr-xr-x 2 root root	     4096 Mar 12  2025 update-motd.d
drwxr-xr-x 2 root root	     4096 Feb 16  2025 update-notifier
drwxr-xr-x 2 root root	     4096 Mar 12  2025 UPower
-rw-r--r-- 1 root root	     1523 Feb 16  2025 usb_modeswitch.conf
drwxr-xr-x 2 root root	     4096 Feb 16  2025 usb_modeswitch.d
lrwxrwxrwx 1 root root	       16 Feb 16  2025 vconsole.conf -> default/keyboard
drwxr-xr-x 2 root root	     4096 Oct 16 06:53 vim
drwxr-xr-x 4 root root	     4096 Oct 16 07:12 vmware-tools
lrwxrwxrwx 1 root root	       23 Feb 26  2024 vtrgb -> /etc/alternatives/vtrgb
-rw-r--r-- 1 root root	     4942 Feb 16  2025 wgetrc
drwxr-xr-x 4 root root	     4096 Feb 16  2025 X11
-rw-r--r-- 1 root root	      681 Apr  8  2024 xattr.conf
drwxr-xr-x 4 root root	     4096 Feb 16  2025 xdg
drwxr-xr-x 2 root root	     4096 Feb 16  2025 xml
-rw-r--r-- 1 root root	      460 Feb 16  2025 zsh_command_not_found
root@eltex-practice2-pg1-v13:~# tar -cjf etc_backup_bz2.tar.bz2 etc_backup_bz2.tar.bz2 etc_backup/
/bin/sh: 1: bzip2: not found
tar: etc_backup.tar.bz2: Cannot write: Broken pipe
tar: Child returned status 127
tar: Error is not recoverable: exiting now
root@eltex-practice2-pg1-v13:~# apt install bzip2
Reading package lists... Done
Building dependency tree... Done
Reading state information... Done
Suggested packages:
  bzip2-doc
The following NEW packages will be installed:
  bzip2
0 upgraded, 1 newly installed, 0 to remove and 84 not upgraded.
Need to get 34.5 kB of archives.
After this operation, 112 kB of additional disk space will be used.
Get:1ohttp://ru.archive.ubuntu.com/ubuntu noble-updates/main amd64 bzip2 amd64 1.0.8-5.1build0.1 [34.5 kB]
Fetchedo34.5gkBmink0s3(114kkB/s)]0m33m
debconf: unable to initialize frontend: Dialog
debconf: (Dialog frontend will not work on a dumb terminal, an emacs shell buffer, or without a controlling terminal.)
debconf: falling back to frontend: Readline

0;21r1ASelecting previously unselected package bzip2.
(Reading database ... 125152 files and directories currently installed.)
Preparing to unpack .../bzip2_1.0.8-5.1build0.1_amd64.deb ...
22;0f42m30mProgress: [	0%]49m39m [..................................................................................................] 22;0f42m30mProgress: [ 20%]49m39m [###################...............................................................................] Unpacking bzip2 (1.0.8-5.1build0.1) ...
22;0f42m30mProgress: [ 40%]49m39m [#######################################...........................................................] Setting up bzip2 (1.0.8-5.1build0.1) ...
22;0f42m30mProgress: [ 60%]49m39m [##########################################################........................................] 22;0f42m30mProgress: [ 80%]49m39m [##############################################################################....................] Processing triggers for man-db (2.12.0-4build2) ...

ScanningSprocesses...e[================================================================================================]       ]
Scanning candidates... [===============================================================================================]
Scanning linux images... [=============================================================================================]

Pending kernel upgrade!
Running kernel version:
  6.8.0-55-generic
Diagnostics:
  The currently running kernel version is not the expected kernel version 6.8.0-86-generic.

Restarting the system to load the new kernel will not be handled automatically, so you should consider rebooting.

Restarting services...

Service restarts being deferred:
 /etc/needrestart/restart.d/dbus.service
 systemctl restart getty@tty1.service
 systemctl restart systemd-logind.service
 systemctl restart unattended-upgrades.service

No containers need to be restarted.

No user sessions are running outdated binaries.

No VM guests are running outdated hypervisor (qemu) binaries on this host.
root@eltex-practice2-pg1-v13:~# tar -cjf etc_backup_bz2.tar.bz2 etc_backup/
root@eltex-practice2-pg1-v13:~# tar -caf etc_backup_7z.tar.7z etc_backup/
root@eltex-practice2-pg1-v13:~# tar -czf etc_backup.tar.gz etc_backup/
root@eltex-practice2-pg1-v13:~# tar -czf etc_backup_gz.tar.gz etc_backup/
root@eltex-practice2-pg1-v13:~# ls -lh etc_backup_*.tar.*
-rw-r--r-- 1 root root 3.4M Nov	 2 16:04 etc_backup_7z.tar.7z
-rw-r--r-- 1 root root	10K Nov	 2 15:59 etc_backup_bz2.tar.7z
-rw-r--r-- 1 root root 549K Nov	 2 16:04 etc_backup_bz2.tar.bz2
-rw-r--r-- 1 root root 583K Nov	 2 16:05 etc_backup_gz.tar.gz
root@eltex-practice2-pg1-v13:~# rm etc_backup_bz2.tar.7z
root@eltex-practice2-pg1-v13:~# ls -lh etc_backup_*.tar.*
-rw-r--r-- 1 root root 3.4M Nov	 2 16:04 etc_backup_7z.tar.7z
-rw-r--r-- 1 root root 549K Nov	 2 16:04 etc_backup_bz2.tar.bz2
-rw-r--r-- 1 root root 583K Nov	 2 16:05 etc_backup_gz.tar.gz
root@eltex-practice2-pg1-v13:~# date >> /etc/motd
root@eltex-practice2-pg1-v13:~# rsynsc -av /etc/ /root/etc_backup/
sending incremental file list
motd

sent 70,077 bytes  received 283 bytes  140,720.00 bytes/sec
total size is 2,366,943	 speedup is 33.64
root@eltex-practice2-pg1-v13:~# tar -czf /root/etc_backup.tar.gz -C /root/etc_backup/etc/motd
root@eltex-practice2-pg1-v13:~# mkdir /tmp/bzip2_extract
root@eltex-practice2-pg1-v13:~# tar -xjf /root/etc_backup_bz2.tar.bz2 -C /tmp/bzip2_extract/
root@eltex-practice2-pg1-v13:~# diff -r /tmp/bzip2_extract/etc_backup /root/etc_backup
diff -r /tmp/bzip2_extract/etc_backup/motd /root/etc_backup/motd
1a2,4
> Sun Nov  2 04:14:08 PM UTC 2025
> Sun Nov  2 04:17:54 PM UTC 2025
> Sun Nov  2 04:26:08 PM UTC 2025
diff: /tmp/bzip2_extract/etc_backup/mtab: No such file or directory
diff: /root/etc_backup/mtab: No such file or directory
diff: /tmp/bzip2_extract/etc_backup/os-release: No such file or directory
diff: /root/etc_backup/os-release: No such file or directory
diff: /tmp/bzip2_extract/etc_backup/resolv.conf: No such file or directory
diff: /root/etc_backup/resolv.conf: No such file or directory
root@eltex-practice2-pg1-v13:~# mkdir /root/etc_backup_gzip /root/etc_backup_7zip
root@eltex-practice2-pg1-v13:~# tarf-xzf//root/etc_backup_gz.tar.gz--C//root/etc_backup_gzippp
root@eltex-practice2-pg1-v13:~# tar -xaf//root/etc_backup_gz.tar.7z--C//root/etc_backup_7zip
tar: /root/etc_backup_gz.tar.7z: Cannot open: No such file or directory
tar: Error is not recoverable: exiting now
root@eltex-practice2-pg1-v13:~# tar -xaf /root/etc_backup_7z.tar.7z--C//root/etc_backup_7zip
root@eltex-practice2-pg1-v13:~# diff /root/etc_backup_gzip/etc/motd /root/etc_backup_7zip/etc/motd
diff: /root/etc_backup_gzip/etc/motd: No such file or directory
diff: /root/etc_backup_7zip/etc/motd: No such file or directory
root@eltex-practice2-pg1-v13:~# diff /root/etc_backup_gzip/motdd/root/etc_backup_7zip/motddddddddd
diff: /root/etc_backup_gzip/motd: No such file or directory
diff: /root/etc_backup_7zip/motd: No such file or directory
root@eltex-practice2-pg1-v13:~# ls ./root/etc_backup_gzip
etc_backup
root@eltex-practice2-pg1-v13:~# ls /root/etc_backup_7zip
etc_backup
root@eltex-practice2-pg1-v13:~# diff /root/etc_backup_gzip/etc_backup/motd /root/etc_backup_7zip/etc_backup/motd
root@eltex-practice2-pg1-v13:~# exit
logout
Connection to 172.16.9.187 closed.
eltex-pg1-v13@eltex-2025-autumn:~$ exit
exit

Script done on 2025-11-02 23:50:01+07:00 [COMMAND_EXIT_CODE="0"]
